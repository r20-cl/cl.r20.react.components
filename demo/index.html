<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <script src="bundle.js"></script>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
  window.onload = function () {
    const bundle = require("bundle");
    const HelloWorld = bundle.HelloWorld;
    const Questionnaire = bundle.Questionnaire;
    //ReactDOM.render(<HelloWorld color="red"/>, document.getElementById('root'))
    ReactDOM.render(<Questionnaire questionnaireGenerator={async (state) => {
      const badOSList = ["MacOS", "windoze", "FreeBSD"]
      switch (state.step) {
        case 0:
          return {
            text: "what is your favorite color ?",
            options: ["red", "green", "blue"]
          }
        case 1:
          return {
            text: "what is your name ?",
            textInput: true
          }
        case 2:
          return {
            text: "what is your favorite os ?",
            options: badOSList
          }
        default:
          if (state.options[state.options.length - 1] !== "GNU/Linux") {
            return state.step <= 4 ? {
              text: `${state.options[state.options.length - 1]} ??? really ?? no way!!. Lets try again, what is your favorite os ?`,
              options: badOSList
            }: {
              text: `WOW you really like bad os's. Lets try again with a new list, what is your favorite os ?`,
              options: ["GNU/Linux"]
            }
          } else {
            return {
              text: "thank you."
            }
          }

      }
    }}/>, document.getElementById('root'));
  }
</script>
</body>
</html>
